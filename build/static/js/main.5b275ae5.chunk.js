(this.webpackJsonpvidly=this.webpackJsonpvidly||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"apiEndpoint":"http://localhost:3900/api"}')},42:function(e,t,a){e.exports=a(76)},47:function(e,t,a){},73:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),s=(a(47),a(2)),l=a(6),i=a(4),u=a(3),m=a(5),p=a(18),d=a(1),h=a.n(d),v=a(15),f=a(23),b=a(19),g=a.n(b);g.a.interceptors.response.use((function(e){return console.log(e),Promise.resolve(e)}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(alert("an unexpected error occured"),console.log("logging th error ",e)),Promise.reject(e)}));var y={get:g.a.get,post:g.a.post,put:g.a.put,delete:g.a.delete,setToken:function(e){g.a.defaults.headers.common["x-auth-token"]=e}},E=a(12),k=function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:y.post(E.apiEndpoint+"/movies",e);case 1:case"end":return t.stop()}}))},O=function(e,t){return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:y.put(E.apiEndpoint+"/movies/"+t,e);case 1:case"end":return a.stop()}}))},j=function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.get(E.apiEndpoint+"/movies/"+e));case 1:case"end":return t.stop()}}))},w=function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete ",e),t.abrupt("return",y.delete(E.apiEndpoint+"/movies/"+e));case 2:case"end":return t.stop()}}))},S=a(17),C=a.n(S),N=function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,o=e.onPageChange,c=Math.ceil(t/a),s=C.a.range(1,c+1);return r.a.createElement("nav",{"aria-label":"..."},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item "+(1===n?"disabled":"")},r.a.createElement("a",{className:"page-link",tabIndex:"-1","aria-disabled":"true",onClick:function(){return o(n-1)}},"Previous")),s.map((function(t){return r.a.createElement("li",{className:"page-item "+(t===n?"active":""),key:t},r.a.createElement("a",{className:"page-link ",onClick:function(){return e.onPageChange(t)}},t))})),r.a.createElement("li",{className:"page-item "+(n===c?"disabled":"")},r.a.createElement("a",{className:"page-link",onClick:function(){return e.onPageChange(n+1)}},"Next"))))};var x=function(e){var t=e.groups,a=e.selectedGroup,n=e.onSelect,o=e.textProperty,c=e.valueProperty;return console.log(a),r.a.createElement("div",{className:"list-group"},r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action "+(e===a?"active":""),key:e[c],onClick:function(){return n(e)}},e[o])}))))};x.defaultProps={textProperty:"name",valueProperty:"_id"};var I=x,P=function(){return y.get(E.apiEndpoint+"/genres")},R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).renderSortIcone=function(e){var t=a.props.sortColumn;return e.path!==t.path?"":"asc"===t.order?r.a.createElement("i",{className:"fa fa-sort-asc ml-1"}):r.a.createElement("i",{className:"fa fa-sort-desc ml-1"})},a.onSort=function(e){var t=Object(v.a)({},a.props.sortColumn);t.path===e?t.order="asc"===t.order?"desc":"asc":(t.path=e,t.order="asc"),a.props.onSort(t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.columns.map((function(t){return r.a.createElement("th",{className:"clickable",key:t.key,onClick:function(){return e.onSort(t.path)}},t.label,e.renderSortIcone(t))}))))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.renderCell=function(e,t){return t.content?t.content(e):C.a.get(e,t.path)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t._id},n.map((function(a){return r.a.createElement("td",{key:t._id+a.key},e.renderCell(t,a))})))})))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.columns,n=e.sortColumn,o=e.onSort;return r.a.createElement("table",{className:"table "},r.a.createElement(R,{columns:a,sortColumn:n,onSort:o}),r.a.createElement(A,{columns:a,data:t}))}}]),t}(n.Component),_=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("i",{className:this.getLikeClass(),onClick:this.props.onLike})}},{key:"getLikeClass",value:function(){return"fa fa-heart"+(this.props.value?"":"-o")}}]),t}(n.Component),L=a(8),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).columns=[{path:"title",label:"Title",key:"title",content:function(e){return r.a.createElement(L.b,{to:"/movies/".concat(e._id)},e.title," ")}},{path:"genre.name",label:"Genre",key:"genre"},{path:"numberInStock",label:"Stock",key:"stock"},{path:"dailyRentalRate",label:"Rate",key:"rate"},{key:"like",content:function(e){return r.a.createElement(_,{value:e.liked,onLike:function(){return a.props.onLike(e)}})}},{key:"delete",content:function(e){return a.props.user&&a.props.user.isAdmin&&r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a.props.onDelete(e._id)}},"delete")}}],a.onSort=function(e){a.props.onSort(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.sortColumn;return r.a.createElement(G,{columns:this.columns,data:t,sortColumn:a,onSort:this.onSort})}}]),t}(n.Component),q=function(e){var t=e.value,a=e.onChange;return r.a.createElement("input",{className:"form-control my-3",type:"text",placeholder:"Search...",value:t,onChange:function(e){return a(e.currentTarget.value)}})},D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],genres:[],selectedGenre:null,currentPage:1,searchWord:"",pageSize:5,sortColumn:{path:"title",order:"asc"}},a.handleLike=function(e){var t=Object(f.a)(a.state.movies),n=t.indexOf(e);t[n]=Object(v.a)({},t[n]),t[n].liked=!t[n].liked,a.setState({movies:t})},a.handleDelete=function(e){var t,n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.state.movies,r.prev=1,r.next=4,h.a.awrap(w(e));case 4:n=t.filter((function(t){return t._id!==e})),a.setState({movies:Object(f.a)(n)}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0),a.setState({movies:t});case 12:case"end":return r.stop()}}),null,null,[[1,8]])},a.handleSort=function(e){a.setState({sortColumn:Object(v.a)({},e)})},a.handlePageChange=function(e){var t=Object(v.a)({},a.state);t.currentPage=e,a.setState(t)},a.handleSelect=function(e){a.setState(Object(v.a)({},a.state,{selectedGenre:e,searchWord:"",currentPage:1}))},a.handleSearch=function(e){a.setState({selectedGenre:null,currentPage:1,searchWord:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r;return h.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,h.a.awrap(P());case 2:return e=o.sent,t=e.data,o.next=6,h.a.awrap(h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.awrap(y.get(E.apiEndpoint+"/movies"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}})));case 6:a=o.sent,n=a.data,r={name:"All Genres",_id:-1},this.setState({movies:n,genres:[r].concat(Object(f.a)(t)),selectedGenre:r});case 10:case"end":return o.stop()}}),null,this)}},{key:"calculatePagination",value:function(){var e=this.state,t=e.movies,a=e.currentPage,n=e.pageSize,r=e.selectedGenre,o=e.sortColumn,c=e.searchWord,s=r&&-1!==r._id?t.filter((function(e){return e.genre._id===r._id})):t;return s=c?s.filter((function(e){return e.title.toLowerCase().indexOf(c.toLowerCase())>=0})):s,{paginatedMovies:function(e,t,a){var n=(t-1)*a;return C()(e).slice(n).take(a).value()}(s=C.a.orderBy(s,o.path,o.order),a,n),moviesCount:s.length}}},{key:"render",value:function(){if(this.state.movies.length>0){var e=this.state,t=e.currentPage,a=e.pageSize,n=e.genres,o=e.selectedGenre,c=e.searchWord,s=e.sortColumn,l=this.props.user,i=this.calculatePagination(),u=i.paginatedMovies,m=i.moviesCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(I,{groups:n,selectedGroup:o,onSelect:this.handleSelect})),r.a.createElement("div",{className:"col"},l&&r.a.createElement(L.b,{className:"btn btn-primary my-1",to:"/movies/new"},"New movie"," "),r.a.createElement("span",{className:"my-1"},"Showing ",m," movie(s) in the database"),r.a.createElement(q,{value:c,onChange:this.handleSearch}),r.a.createElement(M,{movies:u,sortColumn:s,onLike:this.handleLike,onDelete:this.handleDelete,onSort:this.handleSort,user:l}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-3 col "},r.a.createElement(N,{onPageChange:this.handlePageChange,itemsCount:m,currentPage:t,pageSize:a})))))}return r.a.createElement("span",null,"there are no movies in the databse")}}]),t}(n.Component),U=a(9),W=a.n(U),F=a(20),T=a(22),B=function(e){var t=e.name,a=e.label,n=e.value,o=e.error,c=Object(T.a)(e,["name","label","value","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({},c,{value:n,name:t,className:"form-control",id:t})),o&&r.a.createElement("div",{className:"alert alert-danger"},o))},z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:{},errors:{}},a.renderInput=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=a.state,c=o.data,s=o.errors;return r.a.createElement(B,{name:e,value:c[e],type:n,label:t,error:s[e],onChange:a.handleChange})},a.renderButton=function(e){return r.a.createElement("button",{className:"btn btn-primary"},e)},a.handleChange=function(e){var t=e.currentTarget,n=Object(v.a)({},a.state.data);n[t.name]=t.value;var r=a.validateProperty(t);a.setState({data:n,errors:r})},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t}),Object.keys(t)&&a.doSubmit()},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(F.a)({},t,n),o=Object(F.a)({},t,a.schema[t]),c={},s=W.a.validate(r,o);return s.error&&(c=Object(F.a)({},t,s.error.details[0].message)),c},a.validate=function(){var e={},t=W.a.validate(a.state.data,a.schema,{abortEarly:!1,allowUnknown:!0});if(t.error){var n=!0,r=!1,o=void 0;try{for(var c,s=t.error.details[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var l=c.value;e[l.path[0]]=l.message}}catch(i){r=!0,o=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}return e},a.isValid=function(){return!Object.keys(a.validate()).length>0},a}return Object(m.a)(t,e),t}(n.Component),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",genreId:"",dailyRentalRate:"",numberInStock:""},movieId:"",errors:{},genres:[]},a.schema={title:W.a.string().required().label("Title"),genreId:W.a.string().required().label("Genre"),dailyRentalRate:W.a.number().min(0).max(10).required().label("Rate"),numberInStock:W.a.number().min(0).required().label("Stock")},a.doSubmit=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.state.data,!a.state.movieId){t.next=6;break}return t.next=4,h.a.awrap(O(e,a.state.movieId));case 4:t.next=8;break;case 6:return t.next=8,h.a.awrap(k(e));case 8:a.props.history.push("/movies");case 9:case"end":return t.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.awrap(this.populateGenres());case 2:return e.next=4,h.a.awrap(this.populateMovies());case 4:case"end":return e.stop()}}),null,this)}},{key:"populateMovies",value:function(){var e,t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("new"!==this.props.match.params.id){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,h.a.awrap(j(this.props.match.params.id));case 5:e=a.sent,t=e.data,console.log(t),this.setState({data:this.mapMovie(t),movieId:t._id}),a.next=15;break;case 11:if(a.prev=11,a.t0=a.catch(2),"404"!==a.t0.response.status){a.next=15;break}return a.abrupt("return",this.props.history.replace("/-not-found"));case 15:case"end":return a.stop()}}),null,this,[[2,11]])}},{key:"populateGenres",value:function(){var e,t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(P());case 2:e=a.sent,t=e.data,this.setState({genres:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"mapMovie",value:function(e){return{title:e.title,genreId:e.genre._id,dailyRentalRate:e.dailyRentalRate,numberInStock:e.numberInStock}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("title","Title"),r.a.createElement("label",{htmlFor:"genre"}," Genre"),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"genreId",id:"genreId",value:this.state.data.genreId,onChange:this.handleChange,className:"form-control"},r.a.createElement("option",{value:""},"Choose..."),this.state.genres.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),this.state.errors.genre&&r.a.createElement("div",{className:"alert alert-danger"},this.state.errors.genre)),this.renderInput("dailyRentalRate","Rate","number"),this.renderInput("numberInStock","Stock","number"),this.renderButton("Save")))}}]),t}(z),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(L.b,{className:"navbar-brand",to:"/"},"Vidly"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/movies"},"Movies")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/customers"},"Customers")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/rentals"},"Rentals")),!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/register"},"Register"))),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/profile"},e.name)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.c,{className:"nav-link",to:"/logout"},"Logout"))))))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Customers")}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Rentals")}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Not Found")}}]),t}(n.Component),Q=a(41),X=a.n(Q),Y=E.apiEndpoint+"/auth";function Z(){return localStorage.getItem("token")}y.setToken(Z());var ee={login:function(e,t){var a,n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(y.post(Y,{email:e,password:t}));case 2:a=r.sent,n=a.data,localStorage.setItem("token",n);case 5:case"end":return r.stop()}}))},loginWithJwt:function(e){localStorage.setItem("token",e)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return X()(e)}catch(t){return null}},getToken:Z},te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",password:""},errors:{}},a.schema={username:W.a.string().email().required().label("Username"),password:W.a.string().required().min(5).label("Password")},a.doSubmit=function(){var e,t,n,r,o;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=a.state.data,t=e.username,n=e.password,c.prev=1,c.next=4,h.a.awrap(ee.login(t,n));case 4:r=a.props.location.state,window.location=r?r.from.pathname:"/",c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),c.t0.response&&400===c.t0.response.status&&(o={username:c.t0.response.data},a.setState({errors:o}));case 11:case"end":return c.stop()}}),null,null,[[1,8]])},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return ee.getCurrentUser()?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderButton("Submit"),";"))}}]),t}(z),ae=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){ee.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(n.Component),ne=E.apiEndpoint+"/users";var re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",password:"",name:""},errors:{}},a.schema={username:W.a.string().required().email().label("Username"),password:W.a.string().required().min(5).label("Password"),name:W.a.string().required().label("Name")},a.doSubmit=function(){var e,t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("submitted"),n.prev=1,n.next=4,h.a.awrap((r=a.state.data,y.post(ne,{email:r.username,password:r.password,name:r.name})));case 4:e=n.sent,ee.loginWithJwt(e.headers["x-auth-token"]),window.location="/",n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),n.t0.response&&400===n.t0.response.status&&(t={username:n.t0.response.data},a.setState({errors:t}));case 12:case"end":return n.stop()}var r}),null,null,[[1,9]])},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Submit")))}}]),t}(z),oe=function(e){var t=e.path,a=e.component,n=e.render,o=Object(T.a)(e,["path","component","render"]),c=ee.getCurrentUser();return r.a.createElement(p.b,Object.assign({path:t},o,{render:function(e){return c?a?r.a.createElement(a,e):n(e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ce=(a(73),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.render=function(){var e=a.state.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{user:e}),r.a.createElement("main",{className:"container"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:te}),r.a.createElement(p.b,{path:"/logout",component:ae}),r.a.createElement(p.b,{path:"/register",component:re}),r.a.createElement(oe,{path:"/movies/:id",component:J}),r.a.createElement(p.b,{path:"/movies",render:function(t){return r.a.createElement(D,Object.assign({},t,{user:e}))}}),r.a.createElement(p.b,{path:"/customers",component:$}),r.a.createElement(p.b,{path:"/rentals",component:H}),r.a.createElement(p.b,{path:"/not-found",component:K}),r.a.createElement(p.a,{from:"/",exact:!0,to:"/movies"}),r.a.createElement(p.a,{to:"/not-found"}))))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:ee.getCurrentUser()})}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(74),a(75);c.a.render(r.a.createElement(L.a,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.5b275ae5.chunk.js.map